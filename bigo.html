<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ø´Ø­Ù† Ø¨ÙŠØ¬Ùˆ Ù„Ø§ÙŠÙ</title>
  <style>
    body { background:#111; color:#FFD700; font-family:sans-serif; text-align:center; padding:30px }
    input, select { padding:10px; width:230px; margin:10px; border-radius:6px; border:1px solid #FFD700; font-size:16px }
    .btn { padding:10px 20px; border-radius:6px; font-weight:bold; margin:10px; text-decoration:none }
    .main { background:#FFD700; color:#000 }
    .whats { background:#25D366; color:#fff }
    .box { margin:20px auto; max-width:400px }
    .result { color:#fff; font-size:18px; margin-top:15px }
  </style>
</head>
<body>

  <h2>Ø´Ø­Ù† Ø¨ÙŠØ¬Ùˆ Ù„Ø§ÙŠÙ</h2>
  <div class="box">
    <input id="units" type="number" placeholder="Ø§Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ…ÙŠØ©" oninput="checkProgress()">
    
    <div id="countryDiv" style="display:none">
      <select id="country" onchange="loadMethods()">
        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆÙ„Ø©</option>
        <option value="Ù…ØµØ±">ğŸ‡ªğŸ‡¬ Ù…ØµØ±</option>
        <option value="Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
        <option value="Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª">ğŸ‡¦ğŸ‡ª Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</option>
      </select>
    </div>

    <div id="methodDiv" style="display:none">
      <select id="method" onchange="calcPrice()"></select>
    </div>

    <div id="result" class="result" style="display:none">
      <p id="priceText"></p>
    </div>

    <a href="index.html" class="btn main">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
    <a id="wa" class="btn whats" target="_blank" style="display:none;">Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</a>
  </div>

  <script>
    const methods = {
      "Ù…ØµØ±": ["ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´", "Ø§Ù†Ø³ØªØ§ Ø¨Ø§ÙŠ", "ÙˆÙŠØ³ØªØ±Ù† ÙŠÙˆÙ†ÙŠÙˆÙ†"],
      "Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©": ["ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ Ø¯Ø§Ø®Ù„ÙŠ"],
      "Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª": ["ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ Ø¯Ø§Ø®Ù„ÙŠ"]
    };

    function checkProgress() {
      const val = +document.getElementById("units").value;
      document.getElementById("countryDiv").style.display = val > 0 ? "block" : "none";
      document.getElementById("methodDiv").style.display = "none";
      document.getElementById("result").style.display = "none";
      document.getElementById("wa").style.display = "none";
    }

    function loadMethods() {
      const country = document.getElementById("country").value;
      const methodSelect = document.getElementById("method");
      methodSelect.innerHTML = "";
      if (country && methods[country]) {
        methods[country].forEach(m => {
          let opt = document.createElement("option");
          opt.value = m; opt.text = m;
          methodSelect.add(opt);
        });
        document.getElementById("methodDiv").style.display = "block";
        calcPrice();
      } else {
        document.getElementById("methodDiv").style.display = "none";
      }
    }

    function calcPrice() {
      const units = +document.getElementById("units").value;
      const country = document.getElementById("country").value;
      const method = document.getElementById("method").value;

      if (!units || !country || !method) return;

      let price = 0, currency = "";
      if (country === "Ù…ØµØ±") { price = (units * 0.94).toFixed(2); currency = "Ø¬Ù†ÙŠÙ‡"; }
      else if (country === "Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©") { price = (units * 0.073).toFixed(2); currency = "Ø±ÙŠØ§Ù„"; }
      else if (country === "Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª") { price = (units * 0.069).toFixed(2); currency = "Ø¯Ø±Ù‡Ù…"; }

      document.getElementById("priceText").innerText =
        `Ø³Ø¹Ø± ${units} ÙˆØ­Ø¯Ø© = ${price} ${currency}\nØ·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹: ${method}`;

      const msg = `Ø·Ù„Ø¨ Ø´Ø­Ù† Ø¨ÙŠØ¬Ùˆ Ù„Ø§ÙŠÙ:\nØ§Ù„ÙƒÙ…ÙŠØ©: ${units}\nØ§Ù„Ø¯ÙˆÙ„Ø©: ${country}\nØ§Ù„Ø¯ÙØ¹: ${method}\nØ§Ù„Ø³Ø¹Ø±: ${price} ${currency}`;
      document.getElementById("wa").href = `https://wa.me/201145427899?text=${encodeURIComponent(msg)}`;
      document.getElementById("result").style.display = "block";
      document.getElementById("wa").style.display = "inline-block";
    }
  </script>

</body>
</html>
